---
title: "Ping"
---

## **Ping (задержка соединения)**

**Ping** показывает, за сколько миллисекунд сервер отвечает на запрос. Меньшее значение — быстрее и стабильнее соединение. Помните: Ping отражает задержку, а не пропускную способность.

### **Как проверить Ping**

#### **1) Для всей подписки**

<Frame>
  <img
    src="/images/ping.png"
    alt="Описание картинки"
    style={{ width:"150px",height:"auto" }}
    className="rounded-xl"
  />
</Frame>

1. Откройте главный экран.
2. В шапке нужной подписки нажмите на иконку спидометра.
3. Рядом с каждым сервером этой подписки появится его Ping.

<Frame>
  <img
    src="/images/ping2.png"
    alt="Описание картинки"
    style={{ width:"150px",height:"auto" }}
    className="rounded-xl"
  />
</Frame>

#### **2) Для отдельной конфигурации**

<Frame>
  <img
    src="/images/ping3.png"
    alt="Описание картинки"
    style={{ width:"150px",height:"auto" }}
    className="rounded-xl"
  />
</Frame>

1. На главном экране смахните элемент конфигурации вправо — появится панель действий.
2. Нажмите на иконку спидометра — рядом отобразится Ping именно этой конфигурации.

#### **3) Для текущего соединения**

1. Нажмите **«Проверить текущее соединение»**.
2. Отобразится:
   - значение Ping в миллисекундах (всегда **мс**);
   - при недоступности — ошибка **«Тайм-аут»**.

### **Что влияет на Ping**

- удалённость сервера (ближе — меньше задержка);
- качество и загруженность вашего интернет-канала;
- нагрузка на сеть и устройство;
- фоновые процессы (загрузки, обновления и т. п.).

### **Типы Ping в Happ**

Приложение поддерживает три способа измерения. Они решают разные задачи и могут давать немного отличающиеся результаты.

#### **ICMP Ping**

Проверяет базовую сетевую доступность ICMP-пакетами (аналог команды `ping`).

- Требует **временного отключения VPN-туннеля**.
- Используется реже из-за неудобства в повседневной работе.

#### **TCP Ping**

Измеряет время установления TCP-соединения до сервера.

- **Не требует** отключать VPN-туннель.
- Может отражать задержку до **ближайшей точки CDN**, если сервер использует контент-сеть — потому реальная задержка до конечного узла может отличаться.

#### **Ping через прокси (Via Proxy)**

Измеряет задержку **через активное VPN-соединение**, учитывая весь путь. Это самый показательный метод для пользователя.

**Как происходит проверка:**

1. Приложение резолвит доменное имя сервера (если указан домен).
2. Устанавливает TCP-соединение; при необходимости — TLS-рукопожатие.
3. На стороне сервера резолвится домен тестируемого ресурса.
4. Сервер устанавливает TLS-соединение с целевым сайтом (если HTTPS).
5. Измеряется время получения ответа от целевого ресурса.

**Преимущества:**

- учитывает шифрование и весь маршрут данных;
- даёт наиболее реалистичное значение задержки при работе с VPN.

**Режимы Via Proxy:**

- **Via Proxy GET** — используется **по умолчанию**; стандартный HTTP-запрос.
- **Via Proxy HEAD** — запрос без тела; **чуть легче** для серверов.

### **Как изменить способ отображения Ping**

**Путь:** Настройки → **Ping**

Доступны два варианта:

- **Время (мс)** — точное значение задержки (например, _42 мс_).
- **Иконка состояния** — только доступность:
  - зелёная с галочкой — сервер доступен;
  - красная с восклицательным знаком — сервер недоступен.

> Выбранный вариант сохраняется автоматически и применяется ко всем серверам.

### **Автоматическая проверка при запуске**

Функция **«Пинг при запуске»** проверяет доступность всех серверов сразу при открытии приложения — вы сразу видите актуальный статус без ручного теста.

**Как включить:** Настройки → **Подписки** → включите **«Пинг при запуске»**.

<Frame>
  <img
    src="/images/ping4.png"
    alt="Описание картинки"
    style={{ width:"150px",height:"auto" }}
    className="rounded-xl"
  />
</Frame>

После активации при каждом запуске приложения происходит измерение Ping всех серверов и обновляется их статус (время отклика или иконка).

### **Советы по использованию**

- Сравнивайте Ping **в одинаковых условиях** (одна сеть, схожая нагрузка устройства).
- Повторяйте тесты: разовые всплески задержки возможны из-за перегрузки сети.
- Для оценки реального пользовательского опыта ориентируйтесь на **Ping через прокси (Via Proxy)**.